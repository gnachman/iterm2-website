2024-05-30: Select command when navigating to a mark.
Improve logic for when to disallow command selection in
alternate screen mode.

2024-05-30: Add share command output to command share menu

2024-05-30: Refactor command share menu. Cancel Renegable
promises in dealloc

2024-05-29: When mouse exits drop-down find panel and FFM is
on, make textview first responder. Issue 11558

2024-05-29: Improve logging for session titles

2024-05-29: Remove dead code

2024-05-29: Optimize containsDescendant:

2024-05-29: Add a setting to disable horizontal scroll
reporting. Issue 11476

2024-05-29: Use selection color for selected command
outline. Issue 11523

2024-05-29: Add debug logging for window title

2024-05-29: Add debug logging for selecting account in
password manager.

2024-05-29: Fix wrong advanced setting description

2024-05-29: Fix typo in custom command displayName (#502)


2024-05-28: Fix scroll to end when broadcasting input is
off. Issue 11551

2024-05-28: Move OpenAI API key to the keychain

2024-05-28: Only ask for accessibilty permission once per
app version. Issue 11557

2024-05-28: Fix a bug where keychain items in the password
manager put the username in the account field and the
account name in the label field, but label isn't part of the
unique identifier.

2024-05-28: Make iTermAI build with correct architectures.
Add build script

2024-05-28: Improve the iTermAI client:

* Fix a race where checking cert by PID suffered from PID
reuse * Fix cancellation bugs

2024-05-28: Clean up AITerm error reporting and a few
warnings

2024-05-27: Improve how certificate of AI plugin is checked
to remove toctou race

2024-05-23: Add charset for changelogs to stable htaccess in
build_stable

2024-05-23: Add various block-like powerline characters to
the set of block drawing characters so they will be immune
from minimum contrast. Issue 11504

2024-05-23: Fix constraints on dragging toolbelt dividers

2024-05-23: Make codecierge's goal a textview

2024-05-23: Put an outline around indicators so it doesn't
look like the background color is a mismatch. Issue 11521

2024-05-23: Command-shift-click to select command output.
Issue 11524

2024-05-23: Remove unused variable

2024-05-23: Fix code signing check for AI plugin

2024-05-23: Fix url of ai plugin

2024-05-23: Fix a bug where run command in window smart
selection action crashed

2024-05-23: Add block test

2024-05-23: Add copy button test

2024-05-23: Fix order of drawing in GPU renderer. Draw
indicators and timestamps after selected command outline.
Draw flash after offscreen command lines. Draw highlighted
row last.

2024-05-23: Add an advanced pref to suppress the secure
keyboard entry indicator

2024-05-22: Move UI for custom AI URL and legacy API out of
advanced settings

2024-05-22: Fix a bug with enormous background images that
sometimes they created messed up metal textures because
NSImage doesn't always scale the bitmap representation when
you ask it to. Issue 11488

2024-05-22: Fix image well image overflowing its bounds

2024-05-22: Add iTermAI. This is a small application that
performs network I/O to AI providers. By not installing it
you can be sure it's impossible to accidentally send info
out.

2024-05-21: Remove note about ai endpoint being ignored if
the model doesn't start with gpt-

2024-05-21: Add secure user default to control availability
of AI

2024-05-21: Fix a bug where mouse entering over a legacy
scrollbar prevented FFM from working. Issue 11499

2024-05-21: Fix scp in adhoc.sh

2024-05-21: Add debug logging for swipe handler

2024-05-21: Prompt for a locale if the user chose a custom
locale but has no value. If the user picks a non-UTF-8
locale ask them to reconsider their choice. Fix how locales
are saved to profiles (it just didn't work). Issue 11484

2024-05-21: Preserve background color in offscreen command
line. Issue 11490

2024-05-21: Expand previous change to all sites that use
NSApp.currentEvent.modifierFlags

2024-05-21: Don't use [[NSApp currentEvent] modifierFlags]
because it may not be remapped. Issue 11481

2024-05-21: Add a generativeAIAllowed flag to turn off LLM
stuff.

2024-05-21: Make scroll to end keybinding broadcast

2024-05-21: Control-[ should close status bar find view.
Issue 11383

2024-05-21: Move codecierge prompts into advanced settings

2024-05-21: Don't try to center box-drawing characters
vertically in GPU renderer. It leaves a gap for those that
should be full-height. Issue 11478

2024-05-21: Fix 'warn about short-lived sessions' tooltip.
Issue 11473

2024-05-21: Leave additional space in glyph size for ascii
offset to avoid pulling in adjacent characters. Issue 11469

2024-05-21: Make index optional in openai legacy response.
Issue 11468

2024-05-20: Set max response tokens for gpt-4o to 4k. Issue
11463

2024-05-20: Copy shell integration

2024-05-20: 3.5.1beta1

2024-05-20: Move to v3 of conductor

2024-05-20: Fix how signature is added to release notes for
stable builds

2024-05-17: Add advanced pref to make windows stick to their
screens. Issue 11229

2024-05-16: Limit window title to 256 characters. Issue
11445

2024-05-16: Store location in SortedArray instead of having
a location provider that can fail, which caused a crash

2024-05-16: Fix warning

2024-05-16: Add more assertions to track down a crash

2024-05-16: Avoid calling macOS 11-only API on older
versions. Fixes a crash

2024-05-15: [conductor] When using framer, allow multiple
keypresses to be written and pending results. This greatly
reduces latency. Issue 11266

2024-05-15: Drain stdin before reading conductor script

2024-05-15: Fix a bug where non-openai llm APIs used the
legacy API. Issue 11455

2024-05-15: A user experienced mouseDragged: called after a
drag began, somehow. Don't try to start a drag session when
one was already begun until mouseUp or mouseDown is called.
Issue 11451

2024-05-14: Comprehend hostname vs host for comparing SSH
identity. This fixes drag-drop to upload with SSH
integration. Issue 11266

2024-05-14: Rename preferencs to settings in top of the day.
Issue 11458

2024-05-14: Add gpt-4o model

2024-05-12: Update nightly build to use alias instead of
hostname

2024-05-12: Fix a bug where clicking on a command didn't
select it when focus was previously in autocomposer.

Fix failure to select last line of output when using the
Copy button.

When not using auto composer, show buttons for selected
command.

When copying command URL copy a string as well so it can be
pasted in a terminal window.

Fix x coordinate of floating copy button

2024-05-12: Fix a bunch of UI bugs in the iterm2:/command
handler

2024-05-12: Deselect named marks tool tableview item after
clicked

2024-05-12: Fix bug in compactMap function of
AtomicMutableArrayOfWeakObjects that broke the named marks
tool

2024-05-10: Add a help button for SSH integration

2024-05-10: Don't default to using SSH integration for ssh:
URL opening

2024-05-10: Bump shell integration. Issue 11454

2024-05-09: Fix horizontal scrolling in preferences (#501)


2024-05-09: Make floating hotkey windows stay above other
terminal windows but not above non-terminal windows like
alerts and settings. Issue 11453

2024-05-09: Fix missing word in donate message

2024-05-09: Fix a badly written error message

2024-05-09: Add iterm2.urlEncode(string:) BIF

2024-05-09: Fix line break mode of parameters field in
trigger VC

2024-05-09: Tweak donate strings and appearance of donate
view to not truncate edit session window title and align
vertically

2024-05-09: Add support for silent command URLs like
iterm2:///command?silent&c=command%20to%20run. These must be
launched by clicking a link in a terminal window. Issue
11452

2024-05-08: Update app icon for 3.5.0

2024-05-07: When hiding a hotkey window order out
immediately on macOS 14. Issue 11372

2024-05-07: Disable rich text for AI prompt textview

2024-05-07: Make it harder to accidentally select a command
when clicking in the terminal when it was in the active
window but not first responder (e.g., some other text field
was first responder)

2024-05-07: Make session first responder when using copy
button in codecierge

2024-05-07: Remove search results after exiting content
navigation mode. Also make textview first responder when
enting it by menu. Issue 11410

2024-05-06: Randomize donate text

2024-05-06: Avoid crashing when restoring state with a
preposterously long line

2024-05-06: Fall back to old image for indicator if SF
symbols is not available (e.g. on macOS 12)

2024-05-06: Add missing onboarding image

2024-05-05: Show a popover the first time you select a
command explaining it and helping you disable the feature.
Also fix a bug in prefs panel where revealing a control on
another tab didn't work. Issue 11444

2024-05-05: Fix a crash seen on Intel macs when restoring
state with compressed regions. I think Data might be moving
its contents around so the pointer returned by
EfficientDecoder was dangling. This change makes it less
efficient. Issue 11439

2024-05-05: Update onboarding to include command selection

2024-04-25: Modernize indicators appearance

2024-04-25: Show a more precise warning when broadcasting
input

2024-04-25: Add a note about billing to AI onboarding dialog

2024-04-25: Add a note about billing to AI settings

2024-04-24: Fix title of settings window

2024-04-24: Use arrayWithCapacity initializer in fix 799afde
(#499)


2024-04-24: Use VS0 and VS1 to disambiguate width of U+2018,
U+2019, U+201C, and U+201D.
https://gitlab.freedesktop.org/terminal-wg/specifications/-/issues/9#note_2385362

2024-04-24: Make AI mode work even when there's no prompt
command or composer by showing a dialog. Should make it
easier to use.

2024-04-24: Attach shell integration alert to the
appropriate window

2024-04-24: [CPK] Update popover/panel when a color is
dropped while open. Add logging.

2024-04-24: Update sponsors

2024-04-24: 3.5.0beta24

2024-04-23: Soften selected command outline color

2024-04-22: Fix bug where sequences would always swap with
the next pane.

2024-04-22: Make the profiles window remember whether tags
is open even if window restoration isn't working. Issue
11435

2024-04-22: Add setting to disable command selection. Issue
11429

2024-04-22: Don't include suggestion in AITerm prompt from
composer

2024-04-22: Update built in GPT models to remove those that
no longer exist and add gpt-4-turbo

2024-04-22: Improve AITerm prompt for GPT-4.  Issue 11427

2024-04-21: Fix bug in cloning copy buttons that lost their
absCoordForDesiredFrame breaking them in the GPU renderer

2024-04-21: Fix crash when you do cmd-k with a selected
command

2024-04-21: Add support for OSC 22 to set mouse cursor
shape. Issue 11421

2024-04-20: Rename NSFileManager(iTerm).temporaryDirectory
to fix metal debugger crash

2024-04-16: Select dragged tab when drag finishes. Issue
11418

2024-04-16: Round timestamps before formatting to try to fix
instability. Issue 11415

2024-04-16: Hold option in shortcut nav for alternate
behavior (copy url/write smart selection match). Issue 11410

2024-04-15: Fix formatting of 24 hour time in context menu.
When you select an already-formatted date, convert it to
unix timestamp. Issue 11414

2024-04-15: Fix a bug where SCPFile's performOnMainThread
didn't block, causing fingerprint and other checks to return
wrong results. Luckily the bug causes connection failures
only. Issue 11413

2024-04-15: Keep a stack of hosts and the key mode for each,
saved just before a new host begins. Restore key mode when
an old host resumes. Issue 11412

2024-04-14: Make search bergin at the find cursor and stop
when it wraps back around to it. This greatly improves the
'search for smart selection results' feature when scrolled
up

2024-04-14: Fix crash in Find All Smart Selection Matches
when using default rules

2024-04-13: Add Find Visible Smart Selection Actions

2024-04-13: Fix bugs in select URLs with selected command
missing things

2024-04-13: Fix warnings

2024-04-13: Env PATH is unset and we want to append the
utilities folder to it use PATH_STDPATH rather than
PATH_DEFPATH because the former omits sbin. Issue 11406

2024-04-12: Deselect selected command on double (or more)
click

2024-04-12: Don't crash when a compressed character buffer
contains an empty block. Issue 11243

2024-04-12: Increase max searchable line length from 500k to
30M

2024-04-12: Don't preserve LineBlock guid when copying a
block. Try to fix crash in 11405

2024-04-12: Fix assertion failure when capturing a GPU frame
if the destination is not 8 bits per sample (seems to happen
with GPU debugging)

2024-04-12: Fix broadcast stripes being backwards in GPU
renderer

2024-04-12: Fix drawing issues with offscreen command line
and top margin. Issue 11401

2024-04-12: Make auto composer keystrokes take precedence
over all text-sending and navigation shortcuts

2024-04-08: Fix some bugs with filtering. Issue 10637

2024-04-04: Clean up of various things related to selected
commands. Fix bugs, including various races and drawing
problems, add logging.

2024-04-02: Fix drawing with selected command

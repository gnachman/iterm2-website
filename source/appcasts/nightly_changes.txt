2024-08-13: Default AI model to new gpt-4o-mini (#506)


2024-08-10: Add all utilities to the default path

2024-08-10: Bump shell integration

2024-08-09: Fix response to DECRQDE to be CSI not OSC. Issue
11690

2024-08-09: Fix a bug where we offer to turn off focus
reporting due to a bell. It didn't check the user default.
Issue 6907

2024-08-09: Make cursor not blink when textview is in the
active session but not first responder (e.g., cursor is in
the search field). Issue 11774

2024-08-08: Fix adhoc builder to use notarytool

2024-08-08: Fix a crash when complex char codes somehow get
out of range of a unichar. Issue 11776

2024-08-08: Bump shell integration for
https://github.com/gnachman/iTerm2-shell-integration/pull/16

2024-08-08: Bump shell integration

2024-08-08: Implement Kitty's key reporting protocol.

2024-07-27: Include expiration date next to identities in
script export

2024-07-27: Add autolaunch checkbox to script export file
picker accessory

2024-07-27: Add support for VT levels. Don't respond to
control sequences at a higher level than the current one.
Add support for DECSCL. Add a UI to display and change the
emulation level. Issue 11690

2024-07-26: Fix crash in issue 11743

2024-07-26: Show a warning that you need shell integration
in the setting for offscreen command lines

2024-07-26: Switch libsixel submodule to point at my fork,
which builds correctly on macOS 15 and macOS 13

2024-07-26: Add a tooltip for 'Automatically bury the tmux
client session after connecting' explaining the window size
restoration side-effect

2024-07-26: If the tmux gateway is automatically buried,
restore the size of tmux windows. Otherwise, set the client
size to that of the gateway session (or the size specified
in the tmux profile, if using that). This is a compromise
between the fix for issue 9196 in commit
7fb0fabc242d624dbbd962d128a7ed34445b0e57 and the complaint
in issue 11749

2024-07-25: Explain impact of choices in state restoration
db timeout message. Issue 11748

2024-07-25: Fix a bug where duplicateSession:'s profile
changes didn't take effect, breaking ssh and pwd
preservation. Issue 11746

2024-07-25: Make line block generation numbers globally
unique to prevent the crash in issue 11747

2024-07-24: Add LatchBio image

2024-07-23: Make up/download text color customizable in
network status bar component.

2024-07-22: Add py.typed file (#504)

This ensures conformity with [PEP-561][1], which is
[required for mypy type-checking to work][2].

[1]: https://peps.python.org/pep-0561/ [2]:
https://mypy.readthedocs.io/en/stable/installed_packages.html#creating-pep-561-compatible-packages
2024-07-22: Add LatchBio sponsors

2024-07-22: When focus follows mouse is on don't make tmux's
current window key/front. Issue 11739

2024-07-22: Improve debug log info about screens

2024-07-22: Bump shell integration

2024-07-22: Search pwd for completions of subdirectories

2024-07-22: Add BTree submodule

2024-07-21: Bump shell integration

2024-07-19: Fix horizontal alignment and height of settings
> general > services

2024-07-19: Rename Prefs to Settings. Issue 11736

2024-07-19: Add advanced pref to disable smart selection
action performance on cmd click. Issue 11717

2024-07-18: Add command: operator for searching profiles.
Issue 11726

2024-07-18: Avoid writing to the terminal immediately after
getting the TMUX DCS code because if you run 'tmux -CC
list-windows' (or anything other than new or attach) tmux
may terminate right away, causing that stuff to go to the
command line. Instead, wait to read %session-changed before
sending any commands. Tmux won't send notifications unless
it's in control mode. We still send control-C immediately,
but wait to get %session-changed to send the phony command.
Issue 11728

2024-07-18: Add support for DECSET 2048 to send inband
resize notifications. Issue 11735

2024-07-18: Bump shell integration

2024-07-18: Fix dash in fish_prompt in
iterm2_shell_integration.fish (#503)

* Fix dash in fish_prompt in iterm2_shell_integration.fish

Fixed string join interpreting a dash character in
fish_prompt as a command option

---------

Co-authored-by: George Nachman <gnachman+github@gmail.com>
2024-07-18: Rework how we handle XTGETTCAP so that it works
for all terminfo keys. In the process abstract out terminfo
stuff into iTermTerminfo so that it can be used from any
thread. Add Ms to my hacked xterm-256color. Issue 11723

2024-07-15: Support double-dollar substitutions in custom
working directory. Issue 11715

2024-07-15: Fix a bug introduced in commit 5edec84 that
broke searching profile tags. Issue 11713

2024-07-15: Fix a bug where the text gpu renderer
incorrectly thought a successor character was underlined
when it wasn't in the case where glyph width is quite large.
This happened with 12pt MesloGS NF. Use the cell width
instead of glyph width to test if one character abuts
another. I hope this doesn't introduce new bugs but I
wouldn't be surprised if it did. Issue 11698

2024-07-15: Document the absurdity that is it_ligatureLevel

2024-07-15: Allow ligatures in MenloNF

2024-07-14: Replace a swift fatalError with something that
gets written to a crash log

2024-07-14: Fix a crash when broadcasting a password

2024-07-14: Serialize access to mutable dictionary in
_recursiveOpenPartialAttachments, where there were some
corrupted locks. I think if you have multiple daemons the
completion callback could run concurrently on two threads.

2024-07-14: Prevent a crash when the snapshot requests a
line out of bounds. I'm not quite sure how this would
happen.

2024-07-14: Try to fix a common crash in RectangleRenderer.
Based on the disassembly I think renderEncoder was nil.
There was one comment from a user who said they got the
crash when waking (maybe headless). There must be a weird
edge case where it is nil.

2024-07-10: Fix a bug where there were two cancel buttons in
the new script panel

2024-07-10: Fix a crash when two instances of iTerm2 are
running and you quit the first and then save restorable
state in the second

2024-07-10: Move selection when a scroll region scrolls up.
Issue 11660

2024-07-09: Check both hostname nad host of SSHIdentity when
comparing to an SCPPath. Issue 11682

2024-07-09: Remove NSNulls from external attribute
dictionaries

2024-07-09: Commit a file I missed in the previous commit

2024-07-08: Add menu item to save color preset for issue
9539. Also fix a bug where colors weren't restored after
previewing a preset

2024-07-07: Store URLs directly in external attributes
rather than using a code for indirection. If you have a
truly huge number of links the interval tree gets slow.
Issue 11697

2024-07-06: Show items in open quickly with empty query.
Issue 11701

2024-07-05: Show a warning in settings window when there are
unsaved changes and manual saving is required

2024-07-03: Make file transfer with framer work when the
path begins with a tilde. Issue 11682

2024-07-03: Add literal mode where control characters are
converted to ^[character] for debugging.

2024-07-02: 3.5.4beta1

2024-07-02: Fix crash when selected command is partially
scrolled off and you do a search

2024-07-02: Fix a crash

2024-07-02: Rebuild NMSSH

2024-07-02: Add support for tracing libssh2. To actually use
it you must modify the Makefile to build libssh2 with
debugging enabled. Then libssh2's messages will go to debug
logs.

2024-06-10: Don't show offscreen command line if the cursor
is under it

2024-06-10: Roll back
f5c0e95ef64ac8eda74cae0ffd9a27b25d7e8080 because it caused
all line blocks to be written to saved state on every save.
Issue 11583

2024-06-10: Fix IME support for pressing enter in composer.
Issue 11610

2024-06-10: Tweak tooltip wording

2024-06-10: Add a tooltip to the offscreen command line
setting

2024-06-10: Fix syntax error

2024-06-07: Add support for multi-line searches. Issue 11601

2024-06-06: When you do cmd-E and the search  mode is regex,
escape the string so it matches. Issue 11601

2024-06-06: Fix bug in escaping regexes that have
backslashes

2024-06-05: Fix discrepancy in box drawing characters gpu vs
legacy. Issue 11577

2024-06-05: Detect bad locales when opening a session and
when changing locale in settings

2024-06-05: Fix autocomplete. I think I changed the meaning
of hasWrapped in findContext to make sense but Autocomplete
still used the old nonsense interpretation. Issue 11592

2024-06-05: Fix how we tested if a window's background color
was dark

2024-06-05: Fix a bug where cmd-0 didn't reset the font
correctly when a non-ascii font isn't in use. Issue 11572

2024-06-05: Remap modifiers in KeyUp as well as KeyDown and
FlagsChanged to fix issue with cmd-tab. Issue 11573

2024-06-05: Add support for DECRQDE. Issue 11507

2024-06-05: Add debug logging to figure why a rolled-back
token wasn't executed

2024-06-05: Remove xcode debugging flags from shells we
launch

2024-06-05: if autocomposer doesn't have a selection but
PTYTextView does, use PTYTextView's selection method. This
affects users who don't have copy-on-select enabled. Issue
11590

2024-06-04: Run launch command specified with --command
through the user's shell to search path

2024-06-04: Use performWindowDragWithEvent instead of
implementing my own runloop. I don't know why I did it that
way but it caused issue 11585

2024-06-04: Release metadata when popping a line from a line
block

2024-06-04: Turn on  malloc stack logging and zombies to
track down a crash related to dangling lineMetadata

2024-06-04: Add debug logging for custom prefs bug in issue
11579

2024-06-04: Avoid logging entire line buffers

2024-06-04: Fix a bug where a debug log with invalid utf-16
couldn't be saved

2024-06-04: Add debug logging for issue 11579

2024-06-04: Make composer first responder after AI prompt
dialog dismisses. Issue 11427

2024-06-04: Encourage ai prompt window to put first
responder in text field. Issue 11427

2024-06-04: Make composer first responder when it gets an AI
response. Improve help text for shift enter.

2024-06-04: If there's a selection in the composer send it
without a newline. Issue 11587

2024-06-03: Fix a bug in the porting of process info. The
deepest foreground job may have children as long as none of
them is a foreground job. Issue 11527

2024-06-03: Bump shell integration submodule. I did this
wrong a few commits back for the it2ssh bashism fix

2024-06-03: Remove cursed NSFileProvider stuff

2024-06-03: Fix triggers that match on bell. Issue 4982

2024-06-03: Fix drawing of box characters in Metal. The
legacy renderer started placing them lower when there is
spacing but GPU didn't. Issue 11577

2024-06-03: Add script-with-input-logging, which is like
Unix script but it saves input separately from output so you
can analyze what other terminals do for key reporting

2024-06-03: Improve logging in prompt state machine

2024-06-03: Fix missing category in advanced pref

2024-06-03: Refactor LLM code to maybe work with azure.
Issue 11416

2024-06-03: Bump shell integration submodule

2024-06-03: Tweak powerline drawing because symbols that
should color the left or right edge completely were getting
it alpha-ed out. I think when the vector is rendered it
didn't land exactly on the right edge and antialiasing
brought in some of the just offscreen clear pixels. The fix
is to draw a solid line on the left or right. Issue 11539

2024-06-03: Make cursor guide full width as suggested in
11542

2024-06-03: Add advanced setting to delay for double click
when selecting a command

2024-06-03: Limit the length of a prompt stored in the
prompt state machine to the last 4 lines. Prompts are rarely
more than 2 lines and there's a performance issue possibly
related to a bug or bad config in issue 11496

2024-06-03: Improve logging in ai code

2024-06-02: Use javascript for AI plugin to avoid code
signing races

2024-06-01: Don't seal line blocks under 1kb because having
a ton of line blocks hurts save/restore performance. Issue
11485

2024-06-01: Commit ai plugin sandbox

2024-05-31: Add support for --command=cmd to open a window
running that command

2024-05-31: Run iTermAIPlugin in a sandbox so it can't evade
cert check

2024-05-31: Fix rendering of selected commands and offscreen
command line in GPU

2024-05-31: Implement deselected region shading in legacy
renderer

2024-05-30: Rip out deselected region drawing code

2024-05-30: Change grouping in share command menu

2024-05-30: Allow copying of selected command, which copies
the command line and output

2024-05-30: Don't trim whitespace when copying with control
sequences

2024-05-30: Fix warnings

2024-05-30: Select command when navigating to a mark.
Improve logic for when to disallow command selection in
alternate screen mode.

2024-05-30: Add share command output to command share menu

2024-05-30: Refactor command share menu. Cancel Renegable
promises in dealloc

2024-05-29: When mouse exits drop-down find panel and FFM is
on, make textview first responder. Issue 11558

2024-05-29: Improve logging for session titles

2024-05-29: Remove dead code

2024-05-29: Optimize containsDescendant:

2024-05-29: Add a setting to disable horizontal scroll
reporting. Issue 11476

2024-05-29: Use selection color for selected command
outline. Issue 11523

2024-05-29: Add debug logging for window title

2024-05-29: Add debug logging for selecting account in
password manager.

2024-05-29: Fix wrong advanced setting description

2024-05-29: Fix typo in custom command displayName (#502)


2024-05-28: Fix scroll to end when broadcasting input is
off. Issue 11551

2024-05-28: Move OpenAI API key to the keychain

2024-05-28: Only ask for accessibilty permission once per
app version. Issue 11557

2024-05-28: Fix a bug where keychain items in the password
manager put the username in the account field and the
account name in the label field, but label isn't part of the
unique identifier.

2024-05-28: Make iTermAI build with correct architectures.
Add build script

2024-05-28: Improve the iTermAI client:

* Fix a race where checking cert by PID suffered from PID
reuse * Fix cancellation bugs

2024-05-28: Clean up AITerm error reporting and a few
warnings

2024-05-27: Improve how certificate of AI plugin is checked
to remove toctou race

2024-05-23: Add charset for changelogs to stable htaccess in
build_stable

2024-05-23: Add various block-like powerline characters to
the set of block drawing characters so they will be immune
from minimum contrast. Issue 11504

2024-05-23: Fix constraints on dragging toolbelt dividers

2024-05-23: Make codecierge's goal a textview

2024-05-23: Put an outline around indicators so it doesn't
look like the background color is a mismatch. Issue 11521

2024-05-23: Command-shift-click to select command output.
Issue 11524

2024-05-23: Remove unused variable

2024-05-23: Fix code signing check for AI plugin

2024-05-23: Fix url of ai plugin

2024-05-23: Fix a bug where run command in window smart
selection action crashed

2024-05-23: Add block test

2024-05-23: Add copy button test

2024-05-23: Fix order of drawing in GPU renderer. Draw
indicators and timestamps after selected command outline.
Draw flash after offscreen command lines. Draw highlighted
row last.

2024-05-23: Add an advanced pref to suppress the secure
keyboard entry indicator

2024-05-22: Move UI for custom AI URL and legacy API out of
advanced settings

2024-05-22: Fix a bug with enormous background images that
sometimes they created messed up metal textures because
NSImage doesn't always scale the bitmap representation when
you ask it to. Issue 11488

2024-05-22: Fix image well image overflowing its bounds

2024-05-22: Add iTermAI. This is a small application that
performs network I/O to AI providers. By not installing it
you can be sure it's impossible to accidentally send info
out.

2024-05-21: Remove note about ai endpoint being ignored if
the model doesn't start with gpt-

2024-05-21: Add secure user default to control availability
of AI

2024-05-21: Fix a bug where mouse entering over a legacy
scrollbar prevented FFM from working. Issue 11499

2024-05-21: Fix scp in adhoc.sh

2024-05-21: Add debug logging for swipe handler

2024-05-21: Prompt for a locale if the user chose a custom
locale but has no value. If the user picks a non-UTF-8
locale ask them to reconsider their choice. Fix how locales
are saved to profiles (it just didn't work). Issue 11484

2024-05-21: Preserve background color in offscreen command
line. Issue 11490

2024-05-21: Expand previous change to all sites that use
NSApp.currentEvent.modifierFlags

2024-05-21: Don't use [[NSApp currentEvent] modifierFlags]
because it may not be remapped. Issue 11481

2024-05-21: Add a generativeAIAllowed flag to turn off LLM
stuff.

2024-05-21: Make scroll to end keybinding broadcast

2024-05-21: Control-[ should close status bar find view.
Issue 11383

2024-05-21: Move codecierge prompts into advanced settings

2024-05-21: Don't try to center box-drawing characters
vertically in GPU renderer. It leaves a gap for those that
should be full-height. Issue 11478

2024-05-21: Fix 'warn about short-lived sessions' tooltip.
Issue 11473

2024-05-21: Leave additional space in glyph size for ascii
offset to avoid pulling in adjacent characters. Issue 11469

2024-05-21: Make index optional in openai legacy response.
Issue 11468

2024-05-20: Set max response tokens for gpt-4o to 4k. Issue
11463

2024-05-20: Copy shell integration

2024-05-20: 3.5.1beta1

2024-05-20: Move to v3 of conductor

2024-05-20: Fix how signature is added to release notes for
stable builds

2024-05-17: Add advanced pref to make windows stick to their
screens. Issue 11229

2024-05-16: Limit window title to 256 characters. Issue
11445

2024-05-16: Store location in SortedArray instead of having
a location provider that can fail, which caused a crash

2024-05-16: Fix warning

2024-05-16: Add more assertions to track down a crash

2024-05-16: Avoid calling macOS 11-only API on older
versions. Fixes a crash

2024-05-15: [conductor] When using framer, allow multiple
keypresses to be written and pending results. This greatly
reduces latency. Issue 11266

2024-05-15: Drain stdin before reading conductor script

2024-05-15: Fix a bug where non-openai llm APIs used the
legacy API. Issue 11455

2024-05-15: A user experienced mouseDragged: called after a
drag began, somehow. Don't try to start a drag session when
one was already begun until mouseUp or mouseDown is called.
Issue 11451

2024-05-14: Comprehend hostname vs host for comparing SSH
identity. This fixes drag-drop to upload with SSH
integration. Issue 11266

2024-05-14: Rename preferencs to settings in top of the day.
Issue 11458

2024-05-14: Add gpt-4o model

2024-05-12: Update nightly build to use alias instead of
hostname

2024-05-12: Fix a bug where clicking on a command didn't
select it when focus was previously in autocomposer.

Fix failure to select last line of output when using the
Copy button.

When not using auto composer, show buttons for selected
command.

When copying command URL copy a string as well so it can be
pasted in a terminal window.

Fix x coordinate of floating copy button

2024-05-12: Fix a bunch of UI bugs in the iterm2:/command
handler

2024-05-12: Deselect named marks tool tableview item after
clicked

2024-05-12: Fix bug in compactMap function of
AtomicMutableArrayOfWeakObjects that broke the named marks
tool

2024-05-10: Add a help button for SSH integration

2024-05-10: Don't default to using SSH integration for ssh:
URL opening

2024-05-10: Bump shell integration. Issue 11454

2024-05-09: Fix horizontal scrolling in preferences (#501)


2024-05-09: Make floating hotkey windows stay above other
terminal windows but not above non-terminal windows like
alerts and settings. Issue 11453

2024-05-09: Fix missing word in donate message

2024-05-09: Fix a badly written error message

2024-05-09: Add iterm2.urlEncode(string:) BIF

2024-05-09: Fix line break mode of parameters field in
trigger VC

2024-05-09: Tweak donate strings and appearance of donate
view to not truncate edit session window title and align
vertically

2024-05-09: Add support for silent command URLs like
iterm2:///command?silent&c=command%20to%20run. These must be
launched by clicking a link in a terminal window. Issue
11452

2024-05-08: Update app icon for 3.5.0

2024-05-07: When hiding a hotkey window order out
immediately on macOS 14. Issue 11372

2024-05-07: Disable rich text for AI prompt textview

2024-05-07: Make it harder to accidentally select a command
when clicking in the terminal when it was in the active
window but not first responder (e.g., some other text field
was first responder)

2024-05-07: Make session first responder when using copy
button in codecierge

2024-05-07: Remove search results after exiting content
navigation mode. Also make textview first responder when
enting it by menu. Issue 11410

2024-05-06: Randomize donate text

2024-05-06: Avoid crashing when restoring state with a
preposterously long line

2024-05-06: Fall back to old image for indicator if SF
symbols is not available (e.g. on macOS 12)

2024-05-06: Add missing onboarding image

2024-05-05: Show a popover the first time you select a
command explaining it and helping you disable the feature.
Also fix a bug in prefs panel where revealing a control on
another tab didn't work. Issue 11444

2024-05-05: Fix a crash seen on Intel macs when restoring
state with compressed regions. I think Data might be moving
its contents around so the pointer returned by
EfficientDecoder was dangling. This change makes it less
efficient. Issue 11439

2024-05-05: Update onboarding to include command selection
